
option java_package = "com.google.android.finsky";
option java_multiple_files = true;

import "EnterpriseClientPolicy.proto";

message GoogleApiResponse {
    optional ApiResponse response = 1;
    optional UnknownType type= 5;
    optional bytes unknownFieldBytes= 9;
}

message UnknownType {
    optional int64 id=1;
}

message ApiResponse {
    optional SplitResponse splitReqResult = 21;
    optional UploadDeviceConfigResponse uploadDeviceConfigResponse = 28;
    optional EnterpriseClientPolicyResponse enterpriseClientPolicyResult = 135;
//    optional SyncApiResp syncResult = 183;
}

message UploadDeviceConfigResponse {
    optional string deviceConfigToken = 1;
}

message SplitResponse {
    optional DeliveryStatus status = 1;
    optional PkgFetchInfo pkgList = 2;
}

enum DeliveryStatus {
    SUCCESS = 1;
    NOT_SUPPORTED = 2;
    NOT_PURCHASED = 3;
    APP_REMOVED = 7;
    APP_NOT_SUPPORTED = 9;
}

message PkgFetchInfo {
    optional uint32 baseBytes = 1;
    optional string baseUrl = 3;
    repeated SplitPkgInfo pkgDownLoadInfo = 15;
}

message SplitPkgInfo {
    optional string splitPkgName = 1;
    optional uint32 size = 2;
    optional string checkSum = 4;
    optional string downloadUrl = 5;
    optional DownloadInfo slaveDownloadInfo = 8;
    optional string checksum = 9;
    optional string unknownPkgInfoString = 15;
    optional DownloadInfo otherDownloadInfo = 16;
}

message DownloadInfo {
    optional int32 id = 1;
    optional uint32 bytes = 2;
    optional string url = 3;
}

//message SyncApiResp {
//    repeated SyncRespContent content = 1;
//    optional SyncToken syncTokenValue = 2;
////    repeated string c=3;
//}
//
//message SyncToken {
//    optional string  mvalue = 1;
//}
//
//
//message SyncRespContent {
//    oneof b {
//        UnknowTypeaynt unknowEmptyField = 2;
//    }
//    optional int64 token = 1;
//}
//
//message UnknownType {
//    optional UnknowEmptyAynx a=1;
//    optional int32 id=2; //unknow enum
//}
//
//message UnknowEmptyAynx {
//    oneof b {
//        UnknowTypeawwm oneofField25 = 26;
//    }
//}
//
//message UnknowTypeawwm {
//    optional int32 id=1;
//}

